<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script>
            //ajax요청하기(새로고침X)
            // window.addEventListener('load',()=>{
                $(()=> {
                // const btObj = document.querySelector('button')
                // const pObj = document.querySelector('p')
                const btObj = $('button')
                const pObj = $('p')

                //-- 버튼 클릭 되었을 때 할 일 START --
                // btObj.addEventListener('click',(e)=>{
                    btObj.click((e)=>{
                //     e.preventDefault(); // 새로고침 방지

                //     // Create an XMLHttpRequest object
                //     const xhttp = new XMLHttpRequest();

                //     // Define a callback function
                //     xhttp.onload = (e) => {
                //         pObj.innerHTML = e.target.responseText;
                //     };
                    
                //     // Send a request
                //     xhttp.open("POST", "http://localhost:8888/back/signup");
                //     //요청전달데이터를 form 전송 형태로 전달하려면 ContentType설정 필요.
                    
                //     xhttp.setRequestHeader("Content-type",
                //     "application/x-www-form-urlencoded");
                //     xhttp.send("id=abc&pwd=p1&name=1");
                // });

                // $.ajax({
                //     url:'.login.html',
                //     // method:,
                //     // date:,
                //     succescc: (responseData)=>{
                //         pObj.html(responseData)
                        
                //     }
                // })

                $.ajax({
                    url:'http://localhost:8888/back/signup',
                    method:'post',
                    data:"id=abc&pwd=p1&name=1",
                    success:(responseData)=>{
                        pObj.html(responseData)
                    },
                    error:(jqXhr, status)=>{
                        alert(`status: ${status}, jqXhr.status:${jqXhr.status}`)
                    }
                     })
                })
    
                //-- 버튼 클릭 되었을 때 할 일 END --
            });
        </script>
    </head>
    <body>
        <div>DIV영역</div>
        <p>P단락</p>
        <button>클릭</button> <!-- 버튼이 클릭되어도 웹에서 새로고침이 되지 않음 -->
    </body>
</html>
